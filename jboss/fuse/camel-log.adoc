

[source, java]
.*osgi:install*
----
JBossFuse:karaf@root> osgi:install -s mvn:org.jboss.quickstarts.fuse/beginner-camel-log/6.3.0.redhat-187
Bundle ID: 296
----

[source, xml]
.*OSGI-INF/blueprint/camel-log.xml*
----
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
             http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
             http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd">

    <!--
      The namespace for the camelContext element in Blueprint is 'http://camel.apache.org/schema/blueprint'.

      While it is not required to assign id's to the <camelContext/> and <route/> elements, it is a good idea
      to set those for runtime management purposes (logging, JMX MBeans, ...)
    -->
    <camelContext id="log-example-context" xmlns="http://camel.apache.org/schema/blueprint" >

        <!--
          A very simple Camel route, that uses a timer to trigger a message every 5 second.

          The <setBody> sets a body into the Camel Message.

          The <log/> elements are used to add human-friendly business logging statements. They make it easier to see what the
          route is doing.
        -->
        <route id="log-route">
          <from uri="timer:foo?period=5000"/>
            <setBody>
                <simple>Hello from Fabric based Camel route!</simple>
            </setBody>
            <log message=">>> ${body} : ${sys.runtime.id}"/>
        </route>
    </camelContext>

</blueprint>
----

[source, java]
.*log:display*
----
2017-11-04 14:54:36,403 | INFO  | #7 - timer://foo | log-route                        | 232 - org.apache.camel.camel-core - 2.17.0.redhat-630187 | >>> Hello from Fabric based Camel route! : root
2017-11-04 14:54:41,402 | INFO  | #7 - timer://foo | log-route                        | 232 - org.apache.camel.camel-core - 2.17.0.redhat-630187 | >>> Hello from Fabric based Camel route! : root
2017-11-04 14:54:46,402 | INFO  | #7 - timer://foo | log-route                        | 232 - org.apache.camel.camel-core - 2.17.0.redhat-630187 | >>> Hello from Fabric based Camel route! : root
2017-11-04 14:54:51,402 | INFO  | #7 - timer://foo | log-route                        | 232 - org.apache.camel.camel-core - 2.17.0.redhat-630187 | >>> Hello from Fabric based Camel route! : root
2017-11-04 14:54:56,403 | INFO  | #7 - timer://foo | log-route                        | 232 - org.apache.camel.camel-core - 2.17.0.redhat-630187 | >>> Hello from Fabric based Camel route! : root
2017-11-04 14:55:01,402 | INFO  | #7 - timer://foo | log-route                        | 232 - org.apache.camel.camel-core - 2.17.0.redhat-630187 | >>> Hello from Fabric based Camel route! : root
----

[source, java]
.*osgi:uninstall*
----
JBossFuse:karaf@root> osgi:uninstall 296
----
