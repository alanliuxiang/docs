
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Scale up/down and Idle the app · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="007.html" />
    
    
    <link rel="prev" href="005.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    INTRODUCTION
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../linux/">
            
                <a href="../../linux/">
            
                    
                    LINUX
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../linux/rhel/readme.html">
            
                <a href="../../linux/rhel/readme.html">
            
                    
                    安装
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../linux/rhel/pre-install.html">
            
                <a href="../../linux/rhel/pre-install.html">
            
                    
                    安装 DVD 制作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../linux/rhel/install-img-usb.html">
            
                <a href="../../linux/rhel/install-img-usb.html">
            
                    
                    生成 USB 介质
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../../linux/rhel/install.html">
            
                <a href="../../linux/rhel/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="../../linux/rhel/kvm.html">
            
                <a href="../../linux/rhel/kvm.html">
            
                    
                    KVM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../linux/basic/basic.html">
            
                <a href="../../linux/basic/basic.html">
            
                    
                    基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../linux/basic/local-remote-login.html">
            
                <a href="../../linux/basic/local-remote-login.html">
            
                    
                    本地及远程登录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../linux/basic/filesystem-overview.html">
            
                <a href="../../linux/basic/filesystem-overview.html">
            
                    
                    文件系统导视
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../../linux/basic/user-group.html">
            
                <a href="../../linux/basic/user-group.html">
            
                    
                    用户和组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../../linux/basic/packages-update.html">
            
                <a href="../../linux/basic/packages-update.html">
            
                    
                    软件包的安装与更新
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../../linux/basic/syslog.html">
            
                <a href="../../linux/basic/syslog.html">
            
                    
                    系统日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../../linux/basic/ntp.html">
            
                <a href="../../linux/basic/ntp.html">
            
                    
                    NTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../../linux/basic/ex.html">
            
                <a href="../../linux/basic/ex.html">
            
                    
                    QA
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../linux/networking/">
            
                <a href="../../linux/networking/">
            
                    
                    网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../linux/networking/fundamentals.html">
            
                <a href="../../linux/networking/fundamentals.html">
            
                    
                    网络基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../linux/networking/ifcfg.html">
            
                <a href="../../linux/networking/ifcfg.html">
            
                    
                    网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../../linux/networking/ipv6cfg.html">
            
                <a href="../../linux/networking/ipv6cfg.html">
            
                    
                    IPv6 网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../../linux/networking/netns.html">
            
                <a href="../../linux/networking/netns.html">
            
                    
                    namespace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../../linux/networking/teaming.html">
            
                <a href="../../linux/networking/teaming.html">
            
                    
                    teaming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.6" data-path="../../linux/networking/bridge.html">
            
                <a href="../../linux/networking/bridge.html">
            
                    
                    bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.7" data-path="../../linux/networking/dns.html">
            
                <a href="../../linux/networking/dns.html">
            
                    
                    DNS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.8" data-path="../../linux/networking/tcp.html">
            
                <a href="../../linux/networking/tcp.html">
            
                    
                    TCP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../linux/stoarges/readme.html">
            
                <a href="../../linux/stoarges/readme.html">
            
                    
                    存储
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../linux/stoarges/fs.html">
            
                <a href="../../linux/stoarges/fs.html">
            
                    
                    文件系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../../linux/stoarges/lvm.html">
            
                <a href="../../linux/stoarges/lvm.html">
            
                    
                    LVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="../../linux/stoarges/nfs.html">
            
                <a href="../../linux/stoarges/nfs.html">
            
                    
                    NFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.4" data-path="../../linux/stoarges/file-storage.html">
            
                <a href="../../linux/stoarges/file-storage.html">
            
                    
                    文件存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.5" data-path="../../linux/stoarges/block-storage.html">
            
                <a href="../../linux/stoarges/block-storage.html">
            
                    
                    块存储
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../linux/security/">
            
                <a href="../../linux/security/">
            
                    
                    安全
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../../linux/security/file-permissions.html">
            
                <a href="../../linux/security/file-permissions.html">
            
                    
                    文件权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="../../linux/security/SELinux.html">
            
                <a href="../../linux/security/SELinux.html">
            
                    
                    SELinux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" data-path="../../linux/security/firewall.html">
            
                <a href="../../linux/security/firewall.html">
            
                    
                    防火墙
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../linux/process/">
            
                <a href="../../linux/process/">
            
                    
                    进程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../../linux/process/management.html">
            
                <a href="../../linux/process/management.html">
            
                    
                    进程管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="../../linux/process/service.html">
            
                <a href="../../linux/process/service.html">
            
                    
                    服务管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="../../linux/process/schedule.html">
            
                <a href="../../linux/process/schedule.html">
            
                    
                    周期性运行进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.4" data-path="../../linux/process/bash.html">
            
                <a href="../../linux/process/bash.html">
            
                    
                    bash
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../linux/svc/">
            
                <a href="../../linux/svc/">
            
                    
                    常用服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../../linux/svc/openssh.html">
            
                <a href="../../linux/svc/openssh.html">
            
                    
                    OpenSSH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.2" data-path="../../linux/svc/postfix.html">
            
                <a href="../../linux/svc/postfix.html">
            
                    
                    Email
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.3" data-path="../../linux/svc/mariadb.html">
            
                <a href="../../linux/svc/mariadb.html">
            
                    
                    MariaDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.4" data-path="../../linux/svc/httpd.html">
            
                <a href="../../linux/svc/httpd.html">
            
                    
                    HTTPD
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../docker/docker.html">
            
                <a href="../../docker/docker.html">
            
                    
                    DOCKER
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../docker/svc/svc.html">
            
                <a href="../../docker/svc/svc.html">
            
                    
                    容器化服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../docker/svc/mysql.html">
            
                <a href="../../docker/svc/mysql.html">
            
                    
                    mysql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../docker/svc/httpd.html">
            
                <a href="../../docker/svc/httpd.html">
            
                    
                    httpd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../docker/container.html">
            
                <a href="../../docker/container.html">
            
                    
                    容器管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../docker/images.html">
            
                <a href="../../docker/images.html">
            
                    
                    容器镜像
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../openshift.html">
            
                <a href="../openshift.html">
            
                    
                    OPENSHIFT
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../concepts/">
            
                <a href="../concepts/">
            
                    
                    概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../install/">
            
                <a href="../install/">
            
                    
                    安装
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../install/yum.html">
            
                <a href="../install/yum.html">
            
                    
                    本地 yum 源配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../install/docker-dist.html">
            
                <a href="../install/docker-dist.html">
            
                    
                    本地 docker 镜像仓库配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../install/dns.html">
            
                <a href="../install/dns.html">
            
                    
                    DNS 服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../install/pre-install.html">
            
                <a href="../install/pre-install.html">
            
                    
                    前续安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../install/install.html">
            
                <a href="../install/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../install/post-install.html">
            
                <a href="../install/post-install.html">
            
                    
                    后续安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.7" data-path="../install/qa.html">
            
                <a href="../install/qa.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../samples/samples.html">
            
                <a href="../samples/samples.html">
            
                    
                    示例
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../samples/rc.html">
            
                <a href="../samples/rc.html">
            
                    
                    RC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="../samples/dc.html">
            
                <a href="../samples/dc.html">
            
                    
                    DC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="../samples/s2i.html">
            
                <a href="../samples/s2i.html">
            
                    
                    S2I
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="../samples/deploy-mysql-db.html">
            
                <a href="../samples/deploy-mysql-db.html">
            
                    
                    部署 mysql 数据库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.5" data-path="../samples/deploy-image-to-docker-registry.html">
            
                <a href="../samples/deploy-image-to-docker-registry.html">
            
                    
                    deploy image to docker registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.6" data-path="../samples/elastic-spark.html">
            
                <a href="../samples/elastic-spark.html">
            
                    
                    elasticsearch and spark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.7" data-path="../samples/wordpress/wp.html">
            
                <a href="../samples/wordpress/wp.html">
            
                    
                    wordpress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.8" data-path="../samples/cicd.html">
            
                <a href="../samples/cicd.html">
            
                    
                    CICD Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9" data-path="../samples/parksmap/os-parksmap.html">
            
                <a href="../samples/parksmap/os-parksmap.html">
            
                    
                    parksmap
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.9.1" data-path="../samples/parksmap/os-parksmap-1.html">
            
                <a href="../samples/parksmap/os-parksmap-1.html">
            
                    
                    1. Installing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.2" data-path="../samples/parksmap/os-parksmap-2.html">
            
                <a href="../samples/parksmap/os-parksmap-2.html">
            
                    
                    2. Exploring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.3" data-path="../samples/parksmap/os-parksmap-3.html">
            
                <a href="../samples/parksmap/os-parksmap-3.html">
            
                    
                    3. Architecture Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.4" data-path="../samples/parksmap/os-parksmap-4.html">
            
                <a href="../samples/parksmap/os-parksmap-4.html">
            
                    
                    4. Deploying Docker Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.5" data-path="../samples/parksmap/os-parksmap-5.html">
            
                <a href="../samples/parksmap/os-parksmap-5.html">
            
                    
                    5. Scaling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.6" data-path="../samples/parksmap/os-parksmap-6.html">
            
                <a href="../samples/parksmap/os-parksmap-6.html">
            
                    
                    6. Creating Routes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.7" data-path="../samples/parksmap/os-parksmap-7.html">
            
                <a href="../samples/parksmap/os-parksmap-7.html">
            
                    
                    7. Role-Based Access Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.8" data-path="../samples/parksmap/os-parksmap-8.html">
            
                <a href="../samples/parksmap/os-parksmap-8.html">
            
                    
                    8. Deploying Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.9" data-path="../samples/parksmap/os-parksmap-9.html">
            
                <a href="../samples/parksmap/os-parksmap-9.html">
            
                    
                    9. Adding MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.10" data-path="../samples/parksmap/os-parksmap-10.html">
            
                <a href="../samples/parksmap/os-parksmap-10.html">
            
                    
                    10. Application Health
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.11" data-path="../samples/parksmap/os-parksmap-11.html">
            
                <a href="../samples/parksmap/os-parksmap-11.html">
            
                    
                    11. CI/CD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.12" data-path="../samples/parksmap/os-parksmap-12.html">
            
                <a href="../samples/parksmap/os-parksmap-12.html">
            
                    
                    12. Using Templates
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3.10" data-path="../samples/vdb-data-svc.html">
            
                <a href="../samples/vdb-data-svc.html">
            
                    
                    Teiid Data Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../devops.html">
            
                <a href="../devops.html">
            
                    
                    DevOps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="./">
            
                <a href="./">
            
                    
                    PlaceHolder
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="001.html">
            
                <a href="001.html">
            
                    
                    Create an App from a Docker image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.2" data-path="002.html">
            
                <a href="002.html">
            
                    
                    Create an App using Docker build
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.3" data-path="003.html">
            
                <a href="003.html">
            
                    
                    Using Web Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.4" data-path="004.html">
            
                <a href="004.html">
            
                    
                    Create an App using JBoss EAP builder image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.5" data-path="005.html">
            
                <a href="005.html">
            
                    
                    Using Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.5.6" data-path="006.html">
            
                <a href="006.html">
            
                    
                    Scale up/down and Idle the app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.7" data-path="007.html">
            
                <a href="007.html">
            
                    
                    Binary Deployment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.8" data-path="008.html">
            
                <a href="008.html">
            
                    
                    Using SSL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.9" data-path="009.html">
            
                <a href="009.html">
            
                    
                    Horizontal Auto Scaling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.10" data-path="010.html">
            
                <a href="010.html">
            
                    
                    Blue-Green Deployments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.11" data-path="011.html">
            
                <a href="011.html">
            
                    
                    SCM Web Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.12" data-path="012.html">
            
                <a href="012.html">
            
                    
                    Rollback Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.13" data-path="013.html">
            
                <a href="013.html">
            
                    
                    Code Promotion across Environments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.14" data-path="014.html">
            
                <a href="014.html">
            
                    
                    JBoss Developer Studio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.15" data-path="015.html">
            
                <a href="015.html">
            
                    
                    Deploy a SpringBoot Application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.16" data-path="016.html">
            
                <a href="016.html">
            
                    
                    DaemonSets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.17" data-path="017.html">
            
                <a href="017.html">
            
                    
                    StatefulSets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.18" data-path="018.html">
            
                <a href="018.html">
            
                    
                    Jobs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.19" data-path="019.html">
            
                <a href="019.html">
            
                    
                    ConfigMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.20" data-path="020.html">
            
                <a href="020.html">
            
                    
                    Secrets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.21" data-path="021.html">
            
                <a href="021.html">
            
                    
                    PersistentVolumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.22" data-path="022.html">
            
                <a href="022.html">
            
                    
                    PersistentVolumeClaims
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.23" data-path="023.html">
            
                <a href="023.html">
            
                    
                    Migrating Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.24" data-path="024.html">
            
                <a href="024.html">
            
                    
                    Template Creation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.25" data-path="025.html">
            
                <a href="025.html">
            
                    
                    Deployment Strategies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.26" data-path="026.html">
            
                <a href="026.html">
            
                    
                    Port Forwarding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.27" data-path="027.html">
            
                <a href="027.html">
            
                    
                    Exposing non HTTP Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.28" data-path="028.html">
            
                <a href="028.html">
            
                    
                    Persistent Volume Access Modes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.29" data-path="029.html">
            
                <a href="029.html">
            
                    
                    Pipelines Using Jenkins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.30" data-path="030.html">
            
                <a href="030.html">
            
                    
                    Binary Input Builds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.31" data-path="031.html">
            
                <a href="031.html">
            
                    
                    Docker Builds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.32" data-path="032.html">
            
                <a href="032.html">
            
                    
                    Writing Your Own S2I builders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.33" data-path="development.html">
            
                <a href="development.html">
            
                    
                    开发
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.33.1" data-path="040.html">
            
                <a href="040.html">
            
                    
                    Git 服务器配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../ansible/">
            
                <a href="../../ansible/">
            
                    
                    ANSIBLE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../jboss/readme.html">
            
                <a href="../../jboss/readme.html">
            
                    
                    APPDEV
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../jboss/api/readme.html">
            
                <a href="../../jboss/api/readme.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../jboss/faas/openwhisk.html">
            
                <a href="../../jboss/faas/openwhisk.html">
            
                    
                    Serverless
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../jboss/rhdm/">
            
                <a href="../../jboss/rhdm/">
            
                    
                    RHDM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../../jboss/datavirt/datavirt.html">
            
                <a href="../../jboss/datavirt/datavirt.html">
            
                    
                    JDV
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.4.1" data-path="../../jboss/datavirt/software-list.html">
            
                <a href="../../jboss/datavirt/software-list.html">
            
                    
                    软件版本号对照表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.2" data-path="../../jboss/datavirt/changelog.html">
            
                <a href="../../jboss/datavirt/changelog.html">
            
                    
                    修订记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.3" data-path="../../jboss/datavirt/download.html">
            
                <a href="../../jboss/datavirt/download.html">
            
                    
                    下载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.4" data-path="../../jboss/datavirt/install.html">
            
                <a href="../../jboss/datavirt/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.5" data-path="../../jboss/datavirt/start.html">
            
                <a href="../../jboss/datavirt/start.html">
            
                    
                    启动
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.6" data-path="../../jboss/datavirt/deploy-vdbs.html">
            
                <a href="../../jboss/datavirt/deploy-vdbs.html">
            
                    
                    部署测试 VDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.7" data-path="../../jboss/datavirt/meta.html">
            
                <a href="../../jboss/datavirt/meta.html">
            
                    
                    元数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../../jboss/amq/amq.html">
            
                <a href="../../jboss/amq/amq.html">
            
                    
                    A-MQ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.5.1" data-path="../../jboss/amq/install.html">
            
                <a href="../../jboss/amq/install.html">
            
                    
                    AMQ 6.3 安装测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../../jboss/fuse/">
            
                <a href="../../jboss/fuse/">
            
                    
                    Fuse
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.6.1" data-path="../../jboss/fuse/fuse-install.html">
            
                <a href="../../jboss/fuse/fuse-install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.2" data-path="../../jboss/fuse/fuse-online.html">
            
                <a href="../../jboss/fuse/fuse-online.html">
            
                    
                    Fuse Online
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.3" data-path="../../jboss/fuse/fuse-all-in-one.html">
            
                <a href="../../jboss/fuse/fuse-all-in-one.html">
            
                    
                    BRMS & JDV & Mariadb & REST & FTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.4" data-path="../../jboss/fuse/camel-maximo-sap.html">
            
                <a href="../../jboss/fuse/camel-maximo-sap.html">
            
                    
                    IBM Maximo SAP Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.5" data-path="../../jboss/fuse/getstart.html">
            
                <a href="../../jboss/fuse/getstart.html">
            
                    
                    FIS Get Starts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.6.5.1" data-path="../../jboss/fuse/gs-fis-rest.html">
            
                <a href="../../jboss/fuse/gs-fis-rest.html">
            
                    
                    REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.5.2" data-path="../../jboss/fuse/gs-data-transformation.html">
            
                <a href="../../jboss/fuse/gs-data-transformation.html">
            
                    
                    Transformation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.5.3" data-path="../../jboss/fuse/gs-fis-soap2rest.html">
            
                <a href="../../jboss/fuse/gs-fis-soap2rest.html">
            
                    
                    SOAP TO REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.5.4" data-path="../../jboss/fuse/sso-3scale.html">
            
                <a href="../../jboss/fuse/sso-3scale.html">
            
                    
                    3Scale & SSO on OpenShift
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.6.6" data-path="../../jboss/fuse/camel-cbr.html">
            
                <a href="../../jboss/fuse/camel-cbr.html">
            
                    
                    Camel Content-Based Router
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.7" data-path="../../jboss/fuse/camel-eips.html">
            
                <a href="../../jboss/fuse/camel-eips.html">
            
                    
                    Camel EIPs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.8" data-path="../../jboss/fuse/camel-errorhandler.html">
            
                <a href="../../jboss/fuse/camel-errorhandler.html">
            
                    
                    Dead Letter Channel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../../jboss/bpm/bpm.html">
            
                <a href="../../jboss/bpm/bpm.html">
            
                    
                    BPM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.7.1" data-path="../../jboss/bpm/install.html">
            
                <a href="../../jboss/bpm/install.html">
            
                    
                    安装测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../../jboss/secure/">
            
                <a href="../../jboss/secure/">
            
                    
                    安全
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../solutions/">
            
                <a href="../../solutions/">
            
                    
                    SOLUTIONS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../solutions/jbds-jdv.html">
            
                <a href="../../solutions/jbds-jdv.html">
            
                    
                    JBDS 创建虚拟数据库操作示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../solutions/ep-data-solution.html">
            
                <a href="../../solutions/ep-data-solution.html">
            
                    
                    企业数据整合案例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../../solutions/spark-gs.html">
            
                <a href="../../solutions/spark-gs.html">
            
                    
                    Spark Get Start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../about/">
            
                <a href="../../about/">
            
                    
                    ABOUT
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../about/basic.html">
            
                <a href="../../about/basic.html">
            
                    
                    基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Scale up/down and Idle the app</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="scale-up-and-scale-down-and-idle-the-application-instances">Scale up and Scale down and Idle the application instances</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this recipe we will learn how to scale our application. OpenShift has the capability to scale your application and make sure that many instances are always running.</p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_create_a_project_or_use_an_existing_project">Create a project or use an existing project</a></li>
<li><a href="#_view_the_deployment_config">View the deployment config</a></li>
<li><a href="#_scale_application">Scale Application</a></li>
<li><a href="#_idling_the_application">Idling the application</a></li>
<li><a href="#_reactivate_your_application">Reactivate your application</a></li>
<li><a href="#_scaling_down">Scaling Down</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_project_or_use_an_existing_project">Create a project or use an existing project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to, you can create a new project based on what you have learned in the previous recipe. Since we already have a project we will use it. Run the following command to make sure.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc project ocp-test</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_view_the_deployment_config">View the deployment config</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">$ oc get deploymentconfig/dbtest -o json
{
    <span class="hljs-string">&quot;apiVersion&quot;</span>: <span class="hljs-string">&quot;v1&quot;</span>,
    <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;DeploymentConfig&quot;</span>,
    <span class="hljs-string">&quot;metadata&quot;</span>: {
        <span class="hljs-string">&quot;annotations&quot;</span>: {
            <span class="hljs-string">&quot;openshift.io/generated-by&quot;</span>: <span class="hljs-string">&quot;OpenShiftWebConsole&quot;</span>
        },
        <span class="hljs-string">&quot;creationTimestamp&quot;</span>: <span class="hljs-string">&quot;2017-07-10T14:11:44Z&quot;</span>,
        <span class="hljs-string">&quot;generation&quot;</span>: <span class="hljs-number">5</span>,
        <span class="hljs-string">&quot;labels&quot;</span>: {
            <span class="hljs-string">&quot;app&quot;</span>: <span class="hljs-string">&quot;dbtest&quot;</span>
        },
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;dbtest&quot;</span>,
        <span class="hljs-string">&quot;namespace&quot;</span>: <span class="hljs-string">&quot;ocp-test&quot;</span>,
        <span class="hljs-string">&quot;resourceVersion&quot;</span>: <span class="hljs-string">&quot;4708304&quot;</span>,
        <span class="hljs-string">&quot;selfLink&quot;</span>: <span class="hljs-string">&quot;/oapi/v1/namespaces/ocp-test/deploymentconfigs/dbtest&quot;</span>,
        <span class="hljs-string">&quot;uid&quot;</span>: <span class="hljs-string">&quot;b42bca1e-6579-11e7-bbc1-0682973451aa&quot;</span>
    },
    <span class="hljs-string">&quot;spec&quot;</span>: {
        <span class="hljs-string">&quot;replicas&quot;</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">&quot;selector&quot;</span>: {
            <span class="hljs-string">&quot;deploymentconfig&quot;</span>: <span class="hljs-string">&quot;dbtest&quot;</span>
        },
        <span class="hljs-string">&quot;strategy&quot;</span>: {
            <span class="hljs-string">&quot;activeDeadlineSeconds&quot;</span>: <span class="hljs-number">21600</span>,
            <span class="hljs-string">&quot;resources&quot;</span>: {},
            <span class="hljs-string">&quot;rollingParams&quot;</span>: {
                <span class="hljs-string">&quot;intervalSeconds&quot;</span>: <span class="hljs-number">1</span>,
                <span class="hljs-string">&quot;maxSurge&quot;</span>: <span class="hljs-string">&quot;25%&quot;</span>,
                <span class="hljs-string">&quot;maxUnavailable&quot;</span>: <span class="hljs-string">&quot;25%&quot;</span>,
                <span class="hljs-string">&quot;timeoutSeconds&quot;</span>: <span class="hljs-number">600</span>,
                <span class="hljs-string">&quot;updatePeriodSeconds&quot;</span>: <span class="hljs-number">1</span>
            },
            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;Rolling&quot;</span>
        },
        <span class="hljs-string">&quot;template&quot;</span>: {
            <span class="hljs-string">&quot;metadata&quot;</span>: {
                <span class="hljs-string">&quot;creationTimestamp&quot;</span>: <span class="hljs-literal">null</span>,
                <span class="hljs-string">&quot;labels&quot;</span>: {
                    <span class="hljs-string">&quot;app&quot;</span>: <span class="hljs-string">&quot;dbtest&quot;</span>,
                    <span class="hljs-string">&quot;deploymentconfig&quot;</span>: <span class="hljs-string">&quot;dbtest&quot;</span>
                }
            },
            <span class="hljs-string">&quot;spec&quot;</span>: {
                <span class="hljs-string">&quot;containers&quot;</span>: [
                    {
                        <span class="hljs-string">&quot;env&quot;</span>: [
                            {
                                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;MYSQL_USER&quot;</span>,
                                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;test_user&quot;</span>
                            },
                            {
                                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;MYSQL_PASSWORD&quot;</span>,
                                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;test_pass&quot;</span>
                            },
                            {
                                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;MYSQL_DATABASE&quot;</span>,
                                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;sample&quot;</span>
                            }
                        ],
                        <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;172.30.160.227:5000/ocp-test/dbtest@sha256:220bb329080f0358693a8661e4eb3c51c5f649edec888494f1d590829484c56d&quot;</span>,
                        <span class="hljs-string">&quot;imagePullPolicy&quot;</span>: <span class="hljs-string">&quot;Always&quot;</span>,
                        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;dbtest&quot;</span>,
                        <span class="hljs-string">&quot;ports&quot;</span>: [
                            {
                                <span class="hljs-string">&quot;containerPort&quot;</span>: <span class="hljs-number">8080</span>,
                                <span class="hljs-string">&quot;protocol&quot;</span>: <span class="hljs-string">&quot;TCP&quot;</span>
                            }
                        ],
                        <span class="hljs-string">&quot;resources&quot;</span>: {},
                        <span class="hljs-string">&quot;terminationMessagePath&quot;</span>: <span class="hljs-string">&quot;/dev/termination-log&quot;</span>
                    }
                ],
                <span class="hljs-string">&quot;dnsPolicy&quot;</span>: <span class="hljs-string">&quot;ClusterFirst&quot;</span>,
                <span class="hljs-string">&quot;restartPolicy&quot;</span>: <span class="hljs-string">&quot;Always&quot;</span>,
                <span class="hljs-string">&quot;securityContext&quot;</span>: {},
                <span class="hljs-string">&quot;terminationGracePeriodSeconds&quot;</span>: <span class="hljs-number">30</span>
            }
        },
        <span class="hljs-string">&quot;test&quot;</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-string">&quot;triggers&quot;</span>: [
            {
                <span class="hljs-string">&quot;imageChangeParams&quot;</span>: {
                    <span class="hljs-string">&quot;automatic&quot;</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-string">&quot;containerNames&quot;</span>: [
                        <span class="hljs-string">&quot;dbtest&quot;</span>
                    ],
                    <span class="hljs-string">&quot;from&quot;</span>: {
                        <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;ImageStreamTag&quot;</span>,
                        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;dbtest:latest&quot;</span>,
                        <span class="hljs-string">&quot;namespace&quot;</span>: <span class="hljs-string">&quot;ocp-test&quot;</span>
                    },
                    <span class="hljs-string">&quot;lastTriggeredImage&quot;</span>: <span class="hljs-string">&quot;172.30.160.227:5000/ocp-test/dbtest@sha256:220bb329080f0358693a8661e4eb3c51c5f649edec888494f1d590829484c56d&quot;</span>
                },
                <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;ImageChange&quot;</span>
            },
            {
                <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;ConfigChange&quot;</span>
            }
        ]
    },
    <span class="hljs-string">&quot;status&quot;</span>: {
        <span class="hljs-string">&quot;availableReplicas&quot;</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">&quot;conditions&quot;</span>: [
            {
                <span class="hljs-string">&quot;lastTransitionTime&quot;</span>: <span class="hljs-string">&quot;2017-07-10T14:12:08Z&quot;</span>,
                <span class="hljs-string">&quot;lastUpdateTime&quot;</span>: <span class="hljs-string">&quot;2017-07-10T14:12:08Z&quot;</span>,
                <span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;Deployment config has minimum availability.&quot;</span>,
                <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;True&quot;</span>,
                <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;Available&quot;</span>
            },
            {
                <span class="hljs-string">&quot;lastTransitionTime&quot;</span>: <span class="hljs-string">&quot;2017-07-10T14:19:50Z&quot;</span>,
                <span class="hljs-string">&quot;lastUpdateTime&quot;</span>: <span class="hljs-string">&quot;2017-07-10T14:19:52Z&quot;</span>,
                <span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;replication controller \&quot;dbtest-3\&quot; successfully rolled out&quot;</span>,
                <span class="hljs-string">&quot;reason&quot;</span>: <span class="hljs-string">&quot;NewReplicationControllerAvailable&quot;</span>,
                <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;True&quot;</span>,
                <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;Progressing&quot;</span>
            }
        ],
        <span class="hljs-string">&quot;details&quot;</span>: {
            <span class="hljs-string">&quot;causes&quot;</span>: [
                {
                    <span class="hljs-string">&quot;imageTrigger&quot;</span>: {
                        <span class="hljs-string">&quot;from&quot;</span>: {
                            <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;ImageStreamTag&quot;</span>,
                            <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;dbtest:latest&quot;</span>,
                            <span class="hljs-string">&quot;namespace&quot;</span>: <span class="hljs-string">&quot;ocp-test&quot;</span>
                        }
                    },
                    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;ImageChange&quot;</span>
                }
            ],
            <span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;image change&quot;</span>
        },
        <span class="hljs-string">&quot;latestVersion&quot;</span>: <span class="hljs-number">3</span>,
        <span class="hljs-string">&quot;observedGeneration&quot;</span>: <span class="hljs-number">5</span>,
        <span class="hljs-string">&quot;readyReplicas&quot;</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">&quot;replicas&quot;</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">&quot;unavailableReplicas&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">&quot;updatedReplicas&quot;</span>: <span class="hljs-number">1</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <code>replicas:</code> is set to 1. This tells OpenShift that when this application deploys, make sure that there is 1 instance.</p>
</div>
<div class="paragraph">
<p>The <code>replicationController</code> mirrors this configuration initially; the <code>replicationController (or rc)</code> will ensure that there is always the set number of instances always running.</p>
</div>
<div class="paragraph">
<p>To view the <code>rc</code> for your application first get the current pod running.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"> oc get pods
NAME                               READY     STATUS      RESTARTS   AGE
dbtest-3-wwcd3                     1/1       Running     0          12m</code></pre>
</div>
</div>
<div class="paragraph">
<p>This shows that the build <code>dbtest-3</code> is running in pod <code>wwcd3</code>. Let us view the rc on this build.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc get rc/dbtest-3
NAME       DESIRED   CURRENT   READY     AGE
dbtest-3   1         1         1         14m</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can change the number of replicas in <code>DeploymentConfig</code> or the <code>ReplicationController</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>However note that if you change the <code>deploymentConfig</code> it applies to your application. This means, even if you delete the current replication controller, the new one that gets created will be assigned the REPLICAS value based on what is set for DC. If you change it on the <code>Replication Controller</code>, the application will scale up. But if you happen to delete the current replication controller for some reason, you will loose that setting.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scale_application">Scale Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To scale your application we will edit the <code>deploymentConfig</code> to 3.</p>
</div>
<div class="paragraph">
<p>Scale your application using the <code>oc scale</code> command (remembering to specify the dc)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc scale --replicas=3 dc/dbtest
deploymentconfig <span class="hljs-string">&quot;dbtest&quot;</span> scaled</code></pre>
</div>
</div>
<div class="paragraph">
<p>On the command line, see how many pods you are running now:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc get pods --show-all=<span class="hljs-literal">false</span>
NAME                               READY     STATUS    RESTARTS   AGE
dbtest-3-366r6                     1/1       Running   0          1m
dbtest-3-rwl59                     1/1       Running   0          1m
dbtest-3-wwcd3                     1/1       Running   0          19m</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you look at the web console and you will see that there are 3 instances running now.</p>
</div>
<div class="paragraph">
<p>You now have 3 instances of <code>dbtest-3</code> running (each with a different pod-id). If you check the <code>rc</code> of the <code>dbtest-3</code> build you will see that it has been updated by the dc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc get rc/dbtest-3
NAME       DESIRED   CURRENT   READY     AGE
dbtest-3   3         3         3         21m</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_idling_the_application">Idling the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the following command to find the available endpoints</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc get endpoints
NAME                       ENDPOINTS                                       AGE
dbtest                     10.1.0.10:8080,10.1.11.55:8080,10.1.6.84:8080   30m</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the name of the endpoints is <code>dbtest</code> and there are three ips addresses for the three pods.</p>
</div>
<div class="paragraph">
<p>Run the <code>oc idle endpoints/dbtest</code> command to idle the application</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc idle endpoints/dbtest
The service <span class="hljs-string">&quot;ocp-test/dbtest&quot;</span> has been marked as idled
The service will unidle DeploymentConfig <span class="hljs-string">&quot;ocp-test/dbtest&quot;</span> to 3 replicas once it receives traffic
DeploymentConfig <span class="hljs-string">&quot;ocp-test/dbtest&quot;</span> has been idled</code></pre>
</div>
</div>
<div class="paragraph">
<p>Go back to the webconsole. You will notice that the pods show up as idled.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/idled_pods.jpeg" alt="idled_pods"></span></p>
</div>
<div class="paragraph">
<p>At this point the application is idled, the pods are not running and no resources are being used by the application. This doesn&#x2019;t mean that the application is deleted. The current state is just saved.. that&#x2019;s all.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reactivate_your_application">Reactivate your application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now click on the application route URL or access the application via curl.</p>
</div>
<div class="paragraph">
<p>Note that it takes a little while for the application to respond. This is because pods are spinning up again. You can notice that in the web console.</p>
</div>
<div class="paragraph">
<p>In a little while the output comes up and your application would be up with 3 pods.</p>
</div>
<div class="paragraph">
<p>So, as soon as the user accesses the application, it comes up!!!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scaling_down">Scaling Down</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Scaling down is the same procedure as scaling up. Use the <code>oc scale</code> command on the <code>dbtest</code> application <code>dc</code> setting.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc scale --replicas=1 dc/dbtest
deploymentconfig <span class="hljs-string">&quot;dbtest&quot;</span> scaled</code></pre>
</div>
</div>
<div class="paragraph">
<p>Congratulations!! In this recipe you have learned about scaling and how to scale up/down your application on OpenShift!</p>
</div>
</div>
</div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="005.html" class="navigation navigation-prev " aria-label="Previous page: Using Templates">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="007.html" class="navigation navigation-next " aria-label="Next page: Binary Deployment">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Scale up/down and Idle the app","level":"1.4.5.6","depth":3,"next":{"title":"Binary Deployment","level":"1.4.5.7","depth":3,"path":"openshift/100/007.adoc","ref":"openshift/100/007.adoc","articles":[]},"previous":{"title":"Using Templates","level":"1.4.5.5","depth":3,"path":"openshift/100/005.adoc","ref":"openshift/100/005.adoc","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"GUID":"na39","OCP_USER_ID":"ksoong-redhat.com","copyrightYear":"2018","copyrightHolder":"Kylin Soong"},"plugins":["collapsible-menu","donate","-sharing","sharing-plus","splitter","back-to-top-button","edit-link"],"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy Kylin Soong 2018","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"collapsible-menu":{},"splitter":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"donate":{"alipay":"http://ksoong.org/docs/content/images/alipay.png","alipayText":"支付宝捐赠","button":"赞赏","title":"","wechat":"http://ksoong.org/docs/content/images/wechat.png","wechatText":"微信捐赠"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"sharing":{"weibo":true,"linkedin":true,"google":true,"facebook":true,"all":["facebook","google","linkedin","weibo"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/kylinsoong/docs/blob/gh-pages"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css"}},"file":{"path":"openshift/100/006.adoc","mtime":"2018-06-01T01:29:20.139Z","type":"asciidoc"},"gitbook":{"version":"3.2.3","time":"2018-08-26T18:21:20.995Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

