
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Using Templates · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="006.html" />
    
    
    <link rel="prev" href="004.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    INTRODUCTION
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../linux/">
            
                <a href="../../linux/">
            
                    
                    LINUX
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../linux/rhel/readme.html">
            
                <a href="../../linux/rhel/readme.html">
            
                    
                    安装
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../linux/rhel/pre-install.html">
            
                <a href="../../linux/rhel/pre-install.html">
            
                    
                    安装 DVD 制作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../linux/rhel/install-img-usb.html">
            
                <a href="../../linux/rhel/install-img-usb.html">
            
                    
                    生成 USB 介质
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../../linux/rhel/install.html">
            
                <a href="../../linux/rhel/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="../../linux/rhel/kvm.html">
            
                <a href="../../linux/rhel/kvm.html">
            
                    
                    KVM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../linux/basic/basic.html">
            
                <a href="../../linux/basic/basic.html">
            
                    
                    基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../linux/basic/local-remote-login.html">
            
                <a href="../../linux/basic/local-remote-login.html">
            
                    
                    本地及远程登录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../linux/basic/filesystem-overview.html">
            
                <a href="../../linux/basic/filesystem-overview.html">
            
                    
                    文件系统导视
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../../linux/basic/user-group.html">
            
                <a href="../../linux/basic/user-group.html">
            
                    
                    用户和组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../../linux/basic/packages-update.html">
            
                <a href="../../linux/basic/packages-update.html">
            
                    
                    软件包的安装与更新
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../../linux/basic/syslog.html">
            
                <a href="../../linux/basic/syslog.html">
            
                    
                    系统日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../../linux/basic/ntp.html">
            
                <a href="../../linux/basic/ntp.html">
            
                    
                    NTP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../linux/networking/">
            
                <a href="../../linux/networking/">
            
                    
                    网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../linux/networking/ifcfg.html">
            
                <a href="../../linux/networking/ifcfg.html">
            
                    
                    网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../linux/networking/ipv6cfg.html">
            
                <a href="../../linux/networking/ipv6cfg.html">
            
                    
                    IPv6 网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../../linux/networking/netns.html">
            
                <a href="../../linux/networking/netns.html">
            
                    
                    namespace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../../linux/networking/teaming.html">
            
                <a href="../../linux/networking/teaming.html">
            
                    
                    teaming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../../linux/networking/bridge.html">
            
                <a href="../../linux/networking/bridge.html">
            
                    
                    bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.6" data-path="../../linux/networking/dns.html">
            
                <a href="../../linux/networking/dns.html">
            
                    
                    DNS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../linux/stoarges/readme.html">
            
                <a href="../../linux/stoarges/readme.html">
            
                    
                    存储
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../linux/stoarges/fs.html">
            
                <a href="../../linux/stoarges/fs.html">
            
                    
                    文件系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../../linux/stoarges/lvm.html">
            
                <a href="../../linux/stoarges/lvm.html">
            
                    
                    LVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="../../linux/stoarges/nfs.html">
            
                <a href="../../linux/stoarges/nfs.html">
            
                    
                    NFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.4" data-path="../../linux/stoarges/file-storage.html">
            
                <a href="../../linux/stoarges/file-storage.html">
            
                    
                    文件存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.5" data-path="../../linux/stoarges/block-storage.html">
            
                <a href="../../linux/stoarges/block-storage.html">
            
                    
                    块存储
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../linux/security/">
            
                <a href="../../linux/security/">
            
                    
                    安全
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../../linux/security/file-permissions.html">
            
                <a href="../../linux/security/file-permissions.html">
            
                    
                    文件权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="../../linux/security/SELinux.html">
            
                <a href="../../linux/security/SELinux.html">
            
                    
                    SELinux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" data-path="../../linux/security/selinux-contexts-permission-control.html">
            
                <a href="../../linux/security/selinux-contexts-permission-control.html">
            
                    
                    Using SELinux Contexts to perform permission control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.4" data-path="../../linux/security/selinux-boolean-home.html">
            
                <a href="../../linux/security/selinux-boolean-home.html">
            
                    
                    Appache to access user home directories
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../linux/process/">
            
                <a href="../../linux/process/">
            
                    
                    进程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../../linux/process/management.html">
            
                <a href="../../linux/process/management.html">
            
                    
                    进程管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="../../linux/process/service.html">
            
                <a href="../../linux/process/service.html">
            
                    
                    服务管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="../../linux/process/schedule.html">
            
                <a href="../../linux/process/schedule.html">
            
                    
                    周期性运行进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.4" data-path="../../linux/process/bash.html">
            
                <a href="../../linux/process/bash.html">
            
                    
                    bash
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../linux/svc/">
            
                <a href="../../linux/svc/">
            
                    
                    常用服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../../linux/svc/openssh.html">
            
                <a href="../../linux/svc/openssh.html">
            
                    
                    OpenSSH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.2" data-path="../../linux/svc/postfix.html">
            
                <a href="../../linux/svc/postfix.html">
            
                    
                    Email
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.3" data-path="../../linux/svc/mariadb.html">
            
                <a href="../../linux/svc/mariadb.html">
            
                    
                    MariaDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.4" data-path="../../linux/svc/httpd.html">
            
                <a href="../../linux/svc/httpd.html">
            
                    
                    HTTPD
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../docker/docker.html">
            
                <a href="../../docker/docker.html">
            
                    
                    DOCKER
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../docker/svc/svc.html">
            
                <a href="../../docker/svc/svc.html">
            
                    
                    容器化服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../docker/svc/mysql.html">
            
                <a href="../../docker/svc/mysql.html">
            
                    
                    mysql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../docker/svc/httpd.html">
            
                <a href="../../docker/svc/httpd.html">
            
                    
                    httpd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../docker/container.html">
            
                <a href="../../docker/container.html">
            
                    
                    容器管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../docker/images.html">
            
                <a href="../../docker/images.html">
            
                    
                    容器镜像
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../openshift.html">
            
                <a href="../openshift.html">
            
                    
                    OPENSHIFT
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../concepts/">
            
                <a href="../concepts/">
            
                    
                    概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../install/">
            
                <a href="../install/">
            
                    
                    安装
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../install/yum.html">
            
                <a href="../install/yum.html">
            
                    
                    本地 yum 源配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../install/docker-dist.html">
            
                <a href="../install/docker-dist.html">
            
                    
                    本地 docker 镜像仓库配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../install/pre-install.html">
            
                <a href="../install/pre-install.html">
            
                    
                    前续安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../install/install.html">
            
                <a href="../install/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../install/post-install.html">
            
                <a href="../install/post-install.html">
            
                    
                    后续安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../install/qa.html">
            
                <a href="../install/qa.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../samples/samples.html">
            
                <a href="../samples/samples.html">
            
                    
                    示例
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../samples/rc.html">
            
                <a href="../samples/rc.html">
            
                    
                    RC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="../samples/dc.html">
            
                <a href="../samples/dc.html">
            
                    
                    DC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="../samples/s2i.html">
            
                <a href="../samples/s2i.html">
            
                    
                    S2I
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="../samples/deploy-mysql-db.html">
            
                <a href="../samples/deploy-mysql-db.html">
            
                    
                    部署 mysql 数据库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.5" data-path="../samples/deploy-image-to-docker-registry.html">
            
                <a href="../samples/deploy-image-to-docker-registry.html">
            
                    
                    deploy image to docker registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.6" data-path="../samples/elastic-spark.html">
            
                <a href="../samples/elastic-spark.html">
            
                    
                    elasticsearch and spark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.7" data-path="../samples/wordpress/wp.html">
            
                <a href="../samples/wordpress/wp.html">
            
                    
                    wordpress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.8" data-path="../samples/cicd.html">
            
                <a href="../samples/cicd.html">
            
                    
                    CICD Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9" data-path="../samples/parksmap/os-parksmap.html">
            
                <a href="../samples/parksmap/os-parksmap.html">
            
                    
                    parksmap
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.9.1" data-path="../samples/parksmap/os-parksmap-1.html">
            
                <a href="../samples/parksmap/os-parksmap-1.html">
            
                    
                    1. Installing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.2" data-path="../samples/parksmap/os-parksmap-2.html">
            
                <a href="../samples/parksmap/os-parksmap-2.html">
            
                    
                    2. Exploring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.3" data-path="../samples/parksmap/os-parksmap-3.html">
            
                <a href="../samples/parksmap/os-parksmap-3.html">
            
                    
                    3. Architecture Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.4" data-path="../samples/parksmap/os-parksmap-4.html">
            
                <a href="../samples/parksmap/os-parksmap-4.html">
            
                    
                    4. Deploying Docker Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.5" data-path="../samples/parksmap/os-parksmap-5.html">
            
                <a href="../samples/parksmap/os-parksmap-5.html">
            
                    
                    5. Scaling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.6" data-path="../samples/parksmap/os-parksmap-6.html">
            
                <a href="../samples/parksmap/os-parksmap-6.html">
            
                    
                    6. Creating Routes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.7" data-path="../samples/parksmap/os-parksmap-7.html">
            
                <a href="../samples/parksmap/os-parksmap-7.html">
            
                    
                    7. Role-Based Access Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.8" data-path="../samples/parksmap/os-parksmap-8.html">
            
                <a href="../samples/parksmap/os-parksmap-8.html">
            
                    
                    8. Deploying Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.9" data-path="../samples/parksmap/os-parksmap-9.html">
            
                <a href="../samples/parksmap/os-parksmap-9.html">
            
                    
                    9. Adding MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.10" data-path="../samples/parksmap/os-parksmap-10.html">
            
                <a href="../samples/parksmap/os-parksmap-10.html">
            
                    
                    10. Application Health
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.11" data-path="../samples/parksmap/os-parksmap-11.html">
            
                <a href="../samples/parksmap/os-parksmap-11.html">
            
                    
                    11. CI/CD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.9.12" data-path="../samples/parksmap/os-parksmap-12.html">
            
                <a href="../samples/parksmap/os-parksmap-12.html">
            
                    
                    12. Using Templates
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3.10" data-path="../samples/vdb-data-svc.html">
            
                <a href="../samples/vdb-data-svc.html">
            
                    
                    Teiid Data Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../devops.html">
            
                <a href="../devops.html">
            
                    
                    DevOps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="./">
            
                <a href="./">
            
                    
                    PlaceHolder
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="001.html">
            
                <a href="001.html">
            
                    
                    Create an App from a Docker image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.2" data-path="002.html">
            
                <a href="002.html">
            
                    
                    Create an App using Docker build
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.3" data-path="003.html">
            
                <a href="003.html">
            
                    
                    Using Web Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.4" data-path="004.html">
            
                <a href="004.html">
            
                    
                    Create an App using JBoss EAP builder image
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.5.5" data-path="005.html">
            
                <a href="005.html">
            
                    
                    Using Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.6" data-path="006.html">
            
                <a href="006.html">
            
                    
                    Scale up/down and Idle the app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.7" data-path="007.html">
            
                <a href="007.html">
            
                    
                    Binary Deployment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.8" data-path="008.html">
            
                <a href="008.html">
            
                    
                    Using SSL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.9" data-path="009.html">
            
                <a href="009.html">
            
                    
                    Horizontal Auto Scaling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.10" data-path="010.html">
            
                <a href="010.html">
            
                    
                    Blue-Green Deployments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.11" data-path="011.html">
            
                <a href="011.html">
            
                    
                    SCM Web Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.12" data-path="012.html">
            
                <a href="012.html">
            
                    
                    Rollback Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.13" data-path="013.html">
            
                <a href="013.html">
            
                    
                    Code Promotion across Environments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.14" data-path="014.html">
            
                <a href="014.html">
            
                    
                    JBoss Developer Studio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.15" data-path="015.html">
            
                <a href="015.html">
            
                    
                    Deploy a SpringBoot Application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.16" data-path="016.html">
            
                <a href="016.html">
            
                    
                    DaemonSets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.17" data-path="017.html">
            
                <a href="017.html">
            
                    
                    StatefulSets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.18" data-path="018.html">
            
                <a href="018.html">
            
                    
                    Jobs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.19" data-path="019.html">
            
                <a href="019.html">
            
                    
                    ConfigMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.20" data-path="020.html">
            
                <a href="020.html">
            
                    
                    Secrets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.21" data-path="021.html">
            
                <a href="021.html">
            
                    
                    PersistentVolumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.22" data-path="022.html">
            
                <a href="022.html">
            
                    
                    PersistentVolumeClaims
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.23" data-path="023.html">
            
                <a href="023.html">
            
                    
                    Migrating Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.24" data-path="024.html">
            
                <a href="024.html">
            
                    
                    Template Creation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.25" data-path="025.html">
            
                <a href="025.html">
            
                    
                    Deployment Strategies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.26" data-path="026.html">
            
                <a href="026.html">
            
                    
                    Port Forwarding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.27" data-path="027.html">
            
                <a href="027.html">
            
                    
                    Exposing non HTTP Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.28" data-path="028.html">
            
                <a href="028.html">
            
                    
                    Persistent Volume Access Modes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.29" data-path="029.html">
            
                <a href="029.html">
            
                    
                    Pipelines Using Jenkins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.30" data-path="030.html">
            
                <a href="030.html">
            
                    
                    Binary Input Builds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.31" data-path="031.html">
            
                <a href="031.html">
            
                    
                    Docker Builds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.32" data-path="032.html">
            
                <a href="032.html">
            
                    
                    Writing Your Own S2I builders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.33" data-path="development.html">
            
                <a href="development.html">
            
                    
                    开发
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.33.1" data-path="040.html">
            
                <a href="040.html">
            
                    
                    Git 服务器配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../ansible/">
            
                <a href="../../ansible/">
            
                    
                    ANSIBLE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../jboss/readme.html">
            
                <a href="../../jboss/readme.html">
            
                    
                    APPDEV
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../jboss/api/readme.html">
            
                <a href="../../jboss/api/readme.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../jboss/faas/openwhisk.html">
            
                <a href="../../jboss/faas/openwhisk.html">
            
                    
                    Serverless
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../jboss/rhdm/">
            
                <a href="../../jboss/rhdm/">
            
                    
                    RHDM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../../jboss/datavirt/datavirt.html">
            
                <a href="../../jboss/datavirt/datavirt.html">
            
                    
                    JDV
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.4.1" data-path="../../jboss/datavirt/software-list.html">
            
                <a href="../../jboss/datavirt/software-list.html">
            
                    
                    软件版本号对照表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.2" data-path="../../jboss/datavirt/changelog.html">
            
                <a href="../../jboss/datavirt/changelog.html">
            
                    
                    修订记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.3" data-path="../../jboss/datavirt/download.html">
            
                <a href="../../jboss/datavirt/download.html">
            
                    
                    下载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.4" data-path="../../jboss/datavirt/install.html">
            
                <a href="../../jboss/datavirt/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.5" data-path="../../jboss/datavirt/start.html">
            
                <a href="../../jboss/datavirt/start.html">
            
                    
                    启动
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.6" data-path="../../jboss/datavirt/deploy-vdbs.html">
            
                <a href="../../jboss/datavirt/deploy-vdbs.html">
            
                    
                    部署测试 VDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.7" data-path="../../jboss/datavirt/meta.html">
            
                <a href="../../jboss/datavirt/meta.html">
            
                    
                    元数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../../jboss/amq/amq.html">
            
                <a href="../../jboss/amq/amq.html">
            
                    
                    A-MQ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.5.1" data-path="../../jboss/amq/install.html">
            
                <a href="../../jboss/amq/install.html">
            
                    
                    AMQ 6.3 安装测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../../jboss/fuse/">
            
                <a href="../../jboss/fuse/">
            
                    
                    Fuse
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.6.1" data-path="../../jboss/fuse/fuse-install.html">
            
                <a href="../../jboss/fuse/fuse-install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.2" data-path="../../jboss/fuse/fuse-online.html">
            
                <a href="../../jboss/fuse/fuse-online.html">
            
                    
                    Fuse Online
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.3" data-path="../../jboss/fuse/fuse-all-in-one.html">
            
                <a href="../../jboss/fuse/fuse-all-in-one.html">
            
                    
                    BRMS & JDV & Mariadb & REST & FTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.4" data-path="../../jboss/fuse/camel-maximo-sap.html">
            
                <a href="../../jboss/fuse/camel-maximo-sap.html">
            
                    
                    IBM Maximo SAP Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.5" data-path="../../jboss/fuse/getstart.html">
            
                <a href="../../jboss/fuse/getstart.html">
            
                    
                    FIS Get Starts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.6.5.1" data-path="../../jboss/fuse/gs-fis-rest.html">
            
                <a href="../../jboss/fuse/gs-fis-rest.html">
            
                    
                    REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.5.2" data-path="../../jboss/fuse/gs-data-transformation.html">
            
                <a href="../../jboss/fuse/gs-data-transformation.html">
            
                    
                    Transformation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.5.3" data-path="../../jboss/fuse/gs-fis-soap2rest.html">
            
                <a href="../../jboss/fuse/gs-fis-soap2rest.html">
            
                    
                    SOAP TO REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.5.4" data-path="../../jboss/fuse/sso-3scale.html">
            
                <a href="../../jboss/fuse/sso-3scale.html">
            
                    
                    3Scale & SSO on OpenShift
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.6.6" data-path="../../jboss/fuse/camel-cbr.html">
            
                <a href="../../jboss/fuse/camel-cbr.html">
            
                    
                    Camel Content-Based Router
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.7" data-path="../../jboss/fuse/camel-eips.html">
            
                <a href="../../jboss/fuse/camel-eips.html">
            
                    
                    Camel EIPs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.8" data-path="../../jboss/fuse/camel-errorhandler.html">
            
                <a href="../../jboss/fuse/camel-errorhandler.html">
            
                    
                    Dead Letter Channel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../../jboss/bpm/bpm.html">
            
                <a href="../../jboss/bpm/bpm.html">
            
                    
                    BPM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.7.1" data-path="../../jboss/bpm/install.html">
            
                <a href="../../jboss/bpm/install.html">
            
                    
                    安装测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../solutions/">
            
                <a href="../../solutions/">
            
                    
                    SOLUTIONS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../solutions/jbds-jdv.html">
            
                <a href="../../solutions/jbds-jdv.html">
            
                    
                    JBDS 创建虚拟数据库操作示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../solutions/ep-data-solution.html">
            
                <a href="../../solutions/ep-data-solution.html">
            
                    
                    企业数据整合案例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../../solutions/spark-gs.html">
            
                <a href="../../solutions/spark-gs.html">
            
                    
                    Spark Get Start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Using Templates</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="using-templates">Using Templates</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this recipe we will learn how to use OpenShift Web Console to spin up a MySQL database using templates. We will then add a frontend PHP application that accesses this database using the service exposed by the database. We will provide a route (a URL) to access the frontend application from a browser.</p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_create_a_project_or_use_an_existing_project">Create a project or use an existing project</a></li>
<li><a href="#_create_a_mysql_database_using_the_template">Create a MYSQL database using the template</a></li>
<li><a href="#_add_data_to_mysql_database">Add data to MySQL database</a></li>
<li><a href="#_add_a_php_frontend_to_talk_to_this_database">Add a PHP frontend to talk to this database</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_project_or_use_an_existing_project">Create a project or use an existing project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to, you can create a new project based on what you have learned in the previous recipe. Since we already have a project we will use it. Run the following command to make sure.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc project ocp-test</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_mysql_database_using_the_template">Create a MYSQL database using the template</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Click on <strong>Add to Project</strong> button and you will be taken to select an image or template. You will see the application create screen as shown below:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../img/application_create_screen.png" alt="application_create_screen"></span></p>
</div>
<div class="paragraph">
<p>Scroll down and click on <strong>Data Stores</strong> session. Find <strong>MySQL (Ephemeral)</strong> template from the list and click <strong>Select</strong>. You will also notice <strong>MySQL (Persistent)</strong> template. But we will address that in a different lab exercise.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../img/mysql_ephemeral_template.png" alt="mysql_ephemeral_template"></span></p>
</div>
<div class="paragraph">
<p>You will be taken to the mysql ephemeral creation screen. Click edit parameters and edit the values to use the following values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">Database Service Name: mysql
MySQL Connection Username: test_user
MySQL Connection Password: test_pass
MySQL Database Name: sample</code></pre>
</div>
</div>
<div class="paragraph">
<p>Click the <strong>Create</strong> button.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../img/mysql_ephemeral_creation.png" alt="mysql_ephemeral_creation"></span></p>
</div>
<div class="paragraph">
<p>Click <strong>Go to overview</strong>.</p>
</div>
<div class="paragraph">
<p>If pod does not show running, Click <strong>Applications</strong> and select <strong>Deployments</strong>, do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click onto <code>mysql</code> deployments config</p>
</li>
<li>
<p>Click on the <strong>Actions</strong> button and select <strong>Edit Health Checks</strong></p>
</li>
<li>
<p>Under the Readiness Probe section remove the single quotes around $MYSQL_PASSWORD</p>
</li>
<li>
<p>Click <strong>Save</strong></p>
</li>
<li>
<p>Click <strong>Applications</strong> and select <strong>Pods</strong></p>
</li>
<li>
<p>Click onto the pod name</p>
</li>
<li>
<p>Click on the <strong>Actions</strong> button and select <strong>Delete</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Browse over to Pods, Services and Deployments from the <strong>Applications</strong> tab to notice the additions to the project. You will note that the service has been assigned an IP address that starts with <code>172.*</code>. Make a note of that. Also note the port that is exposed by this service. By default it exposes <code>3306</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_data_to_mysql_database">Add data to MySQL database</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let us see how we can enter the pod and access the database.</p>
</div>
<div class="paragraph">
<p>Based on what you learned previously get the list of running pods (Tip: <code>oc get pods</code>). You will find one pod for mysql running. Take a note of it&#x2019;s name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc get pod
NAME            READY     STATUS    RESTARTS   AGE
mysql-1-g22vt   1/1       Running   0          3m</code></pre>
</div>
</div>
<div class="paragraph">
<p>Enter the pod by running the following command. Substitute the pod name with your mysql pod name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc rsh mysql-1-g22vt
sh-4.2$</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will be taken to a bash prompt inside the running pod. Now using the service ip address you noted earlier, port number, username and password you used start the mysql client as shown below. You will have to substitute your values here.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">sh-4.2$ mysql -u test_user -p
Enter password:
Welcome to the MySQL monitor.  Commands <span class="hljs-keyword">end</span> <span class="hljs-keyword">with</span> ; or \g.
Your MySQL connection id is 89
Server version: 5.7.16 MySQL Community Server (GPL)

Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type &apos;<span class="hljs-keyword">help</span>;&apos; or &apos;\h&apos; for <span class="hljs-keyword">help</span>. <span class="hljs-keyword">Type</span> <span class="hljs-string">&apos;\c&apos;</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">clear</span> the <span class="hljs-keyword">current</span> <span class="hljs-keyword">input</span> <span class="hljs-keyword">statement</span>.

mysql&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will be taken to the mysql prompt. See the list of databases. You will notice that the sample database that you requested is added and available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| sample             |
+--------------------+
2 rows in set (0.00 sec)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Change over to use the <code>sample</code> database</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">mysql&gt; use sample;
Database changed</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now <code>show tables</code> shows an empty set. So let us create a table and add some records using the commands shown below.</p>
</div>
<div class="listingblock">
<div class="title"><strong>Create Table</strong></div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> PRODUCT (<span class="hljs-keyword">ID</span> <span class="hljs-built_in">integer</span>, SYMBOL <span class="hljs-built_in">varchar</span>(<span class="hljs-number">16</span>), COMPANY_NAME <span class="hljs-built_in">varchar</span>(<span class="hljs-number">256</span>), <span class="hljs-keyword">CONSTRAINT</span> PRODUCT_PK PRIMARY <span class="hljs-keyword">KEY</span>(<span class="hljs-keyword">ID</span>));</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>Add some data</strong></div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> PRODUCT (<span class="hljs-keyword">ID</span>,SYMBOL,COMPANY_NAME) <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1001</span>,<span class="hljs-string">&apos;RHT&apos;</span>,<span class="hljs-string">&apos;Red Hat Corporation&apos;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> PRODUCT (<span class="hljs-keyword">ID</span>,SYMBOL,COMPANY_NAME) <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1007</span>,<span class="hljs-string">&apos;IBM&apos;</span>,<span class="hljs-string">&apos;International Business Machines Corporation&apos;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> PRODUCT (<span class="hljs-keyword">ID</span>,SYMBOL,COMPANY_NAME) <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1008</span>,<span class="hljs-string">&apos;DELL&apos;</span>,<span class="hljs-string">&apos;Dell Computer Corporation&apos;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> PRODUCT (<span class="hljs-keyword">ID</span>,SYMBOL,COMPANY_NAME) <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1010</span>,<span class="hljs-string">&apos;HPQ&apos;</span>,<span class="hljs-string">&apos;Hewlett-Packard Company&apos;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> PRODUCT (<span class="hljs-keyword">ID</span>,SYMBOL,COMPANY_NAME) <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1033</span>,<span class="hljs-string">&apos;FCZ&apos;</span>,<span class="hljs-string">&apos;Ford Motor Credit Company&apos;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> PRODUCT (<span class="hljs-keyword">ID</span>,SYMBOL,COMPANY_NAME) <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1034</span>,<span class="hljs-string">&apos;SAP&apos;</span>,<span class="hljs-string">&apos;SAP AG&apos;</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> PRODUCT (<span class="hljs-keyword">ID</span>,SYMBOL,COMPANY_NAME) <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1036</span>,<span class="hljs-string">&apos;TM&apos;</span>,<span class="hljs-string">&apos;Toyota Motor Corporation&apos;</span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>Verify that the records</strong></div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> PRODUCT;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now <code>exit</code> MySQL client and <code>exit</code> out of the pod.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_a_php_frontend_to_talk_to_this_database">Add a PHP frontend to talk to this database</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this step we will add a PHP frontend application that talks to recently create database. The code is available on github to use at <a href="https://github.com/jbosschina/dbtest" class="bare" target="_blank">https://github.com/jbosschina/dbtest</a>.</p>
</div>
<div class="paragraph">
<p>Browse through the code in this repository. It has a simple php file (dbtest.php) that connects to the database and reads the values from the users table and displays them.</p>
</div>
<div class="paragraph">
<p>To add a frontend again click on <strong>Add to Project</strong> to spin up a frontend application in the same project. It takes you to select image or template page and choose the PHP template under PHP apps.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/php.png" alt="php"></span></p>
</div>
<div class="paragraph">
<p>Enter the following values for each parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name: dbtest</p>
</li>
<li>
<p>Git Repository URL: <a href="https://github.com/jbosschina/dbtest" class="bare" target="_blank">https://github.com/jbosschina/dbtest</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Click onto the link &quot;Show advanced routing, build, and deployment options&quot;, go to Deployment Configuration section and enter the following environment variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MYSQL_USER: test_user</p>
</li>
<li>
<p>MYSQL_PASSWORD: test_pass</p>
</li>
<li>
<p>MYSQL_DATABASE: sample</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternatives, the below commands can use to set up the variables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc env dc dbtest <span class="hljs-_">-e</span> MYSQL_USER=<span class="hljs-built_in">test</span>_user <span class="hljs-_">-e</span> MYSQL_PASSWORD=<span class="hljs-built_in">test</span>_pass <span class="hljs-_">-e</span> MYSQL_DATABASE=sample
deploymentconfig <span class="hljs-string">&quot;dbtest&quot;</span> updated</code></pre>
</div>
</div>
<div class="paragraph">
<p>Click <strong>Create</strong> to add this frontend application to talk to the database.</p>
</div>
<div class="paragraph">
<p>Click <strong>Continue to overview</strong>.</p>
</div>
<div class="paragraph">
<p>Click <strong>Group Service</strong> next to DB test and select <strong>mysql</strong> service.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/console_project_overview.png" alt="console_project_overview"></span></p>
</div>
<div class="paragraph">
<p>You can check the build logs using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ oc <span class="hljs-built_in">log</span> build/dbtest-1
W0710 22:12:12.461827    8667 cmd.go:337] <span class="hljs-built_in">log</span> is DEPRECATED and will be removed <span class="hljs-keyword">in</span> a future version. Use logs instead.
Cloning <span class="hljs-string">&quot;https://github.com/jbosschina/dbtest.git&quot;</span> ...
	Commit:	6b6e432fe130e8<span class="hljs-built_in">fc</span>9aa7a10f2d3d11dae6496329 (change the query against table)
	Author:	kylin &lt;kylinsoong.1214@gmail.com&gt;
	Date:	Mon Jul 10 22:07:37 2017 +0800
---&gt; Installing application source...
Pushing image 172.30.160.227:5000/ocp-test/dbtest:latest ...
Pushed 4/5 layers, 82% complete
Pushed 5/5 layers, 100% complete
Push successful</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the build completes, OpenShift initiates a deploy process. Once the deployment is complete, the frontend pod starts running. You will find the running pod when you navigate to Applications&#x2192;Pods on the Web console.</p>
</div>
<div class="paragraph">
<p>Now type in your application url in the browser or use curl with</p>
</div>
<div class="paragraph">
<p><a href="http://&lt;a href=" #your"="" class="bare" target="_blank">http://&lt;&lt;your</a> application url&quot;&gt;[your&quot; class=&quot;bare&quot;&gt;http://&lt;&lt;your application url]/dbtest.php</p>
</div>
<div class="paragraph">
<p>You will notice that it displays the records read from the database</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">Hello All.. Here is the list of products:
ID: 1001 SYMBOL: RHT COMPANY_NAME: Red Hat Corporation
ID: 1007 SYMBOL: IBM COMPANY_NAME: International Business Machines Corporation
ID: 1008 SYMBOL: DELL COMPANY_NAME: Dell Computer Corporation
ID: 1010 SYMBOL: HPQ COMPANY_NAME: Hewlett-Packard Company
ID: 1033 SYMBOL: FCZ COMPANY_NAME: Ford Motor Credit Company
ID: 1034 SYMBOL: SAP COMPANY_NAME: SAP AG
ID: 1036 SYMBOL: TM COMPANY_NAME: Toyota Motor Corporation
End of the list</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this recipe exercise you have seen a complete web application deployed using OpenShift templates in two parts. First we deployed the MySQL database. We added data manually by getting into the pod. Then we added the frontend code that was built using the OpenShift S2I process. You configured this frontend application to access the database using a service, in this case, the &quot;mysql&quot; service. The frontend is made accessible using a route for which you gave a URL.</p>
</div>
</div>
</div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="004.html" class="navigation navigation-prev " aria-label="Previous page: Create an App using JBoss EAP builder image">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="006.html" class="navigation navigation-next " aria-label="Next page: Scale up/down and Idle the app">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Using Templates","level":"1.4.5.5","depth":3,"next":{"title":"Scale up/down and Idle the app","level":"1.4.5.6","depth":3,"path":"openshift/100/006.adoc","ref":"openshift/100/006.adoc","articles":[]},"previous":{"title":"Create an App using JBoss EAP builder image","level":"1.4.5.4","depth":3,"path":"openshift/100/004.adoc","ref":"openshift/100/004.adoc","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"copyrightYear":"2018","copyrightHolder":"Kylin Soong"},"plugins":["collapsible-menu","donate","-sharing","sharing-plus","splitter","back-to-top-button","edit-link"],"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy Kylin Soong 2018","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"collapsible-menu":{},"splitter":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"donate":{"alipay":"http://ksoong.org/docs/content/images/alipay.png","alipayText":"支付宝捐赠","button":"赞赏","title":"","wechat":"http://ksoong.org/docs/content/images/wechat.png","wechatText":"微信捐赠"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"sharing":{"weibo":true,"linkedin":true,"google":true,"facebook":true,"all":["facebook","google","linkedin","weibo"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/kylinsoong/docs/blob/gh-pages"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css"}},"file":{"path":"openshift/100/005.adoc","mtime":"2018-06-01T01:29:20.139Z","type":"asciidoc"},"gitbook":{"version":"3.2.3","time":"2018-06-26T09:16:02.670Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

